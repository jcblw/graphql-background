<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/finch-graphql/blog/rss.xml" title="Finch GraphQL Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/finch-graphql/blog/atom.xml" title="Finch GraphQL Blog Atom Feed"><title data-react-helmet="true">Api | Finch GraphQL</title><meta data-react-helmet="true" property="og:url" content="https://jointoucan.github.io/finch-graphql//finch-graphql/docs/api-ref"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Api | Finch GraphQL"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="/finch-graphql/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://jointoucan.github.io/finch-graphql//finch-graphql/docs/api-ref"><link data-react-helmet="true" rel="alternate" href="https://jointoucan.github.io/finch-graphql//finch-graphql/docs/api-ref" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jointoucan.github.io/finch-graphql//finch-graphql/docs/api-ref" hreflang="x-default"><link rel="stylesheet" href="/finch-graphql/assets/css/styles.02fd3937.css">
<link rel="preload" href="/finch-graphql/assets/js/styles.e040cb10.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/runtime~main.d65142b1.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/main.f5fda60b.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/1.268af412.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/2.bf5d90e8.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/21.39f7d7c1.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/22.d9f4cc58.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/935f2afb.28ea68c6.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/17896441.aff49cc6.js" as="script">
<link rel="preload" href="/finch-graphql/assets/js/5b14a709.940616a9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_2vEk">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/finch-graphql/"><img src="/finch-graphql/img/logo.svg" alt="Finch" class="themedImage_2dpp themedImage--light_2yWi navbar__logo"><img src="/finch-graphql/img/logo.svg" alt="Finch" class="themedImage_2dpp themedImage--dark_2O_X navbar__logo"><strong class="navbar__title">Finch GraphQL</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/finch-graphql/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jointoucan/finch-graphql" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_2YK8 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_2wcW">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_2wcW">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/finch-graphql/"><img src="/finch-graphql/img/logo.svg" alt="Finch" class="themedImage_2dpp themedImage--light_2yWi navbar__logo"><img src="/finch-graphql/img/logo.svg" alt="Finch" class="themedImage_2dpp themedImage--dark_2O_X navbar__logo"><strong class="navbar__title">Finch GraphQL</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/finch-graphql/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/jointoucan/finch-graphql" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_2hm3"><div class="docSidebarContainer_mF8j" role="complementary"><div class="sidebar_AUih"><div class="menu menu--responsive thin-scrollbar menu_16eN"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1r51" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/how-it-works">How it works</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/">Setup background API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/advanced-api-usage">Advanced API usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/client-setup">Setup client scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/website-setup">Setup website messaging</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/finch-graphql/docs/api-ref">Api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/finch-graphql/docs/client-ref">Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/finch-graphql/docs/react-ref">React</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/testing">Testing Finch GraphQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/devtools">Finch GraphiQL Devtools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/typescript-codegen">Typescript codegen</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Whats new?</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/finch-graphql/docs/finch-v3">Finch v3.x</a></li></ul></li></ul></div></div></div><main class="docMainContainer_luF8"><div class="container padding-vert--lg docItemWrapper_12Bq"><div class="row"><div class="col docItemCol_1cpl"><div class="docItemContainer_1YW1"><article><header><h1 class="docTitle_eZEF">Api</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>FinchApi is the API potion of the Finch library. This is what defines the schema and executes the resolvers of GraphQL API requests. This should live in the background of your extension to be able to serve request to your extension, or websites client scripts. FinchApi is a class and most configuration will be done through the constructor, but after and instance is created there are also some useful methods you can use to execute queries and mutations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="reference"></a>Reference<a class="hash-link" href="#reference" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchapi"></a>FinchApi<a class="hash-link" href="#finchapi" title="Direct link to heading">#</a></h3><p>This is the main class of the api package. It is used to create an instance of the api.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchApi</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@finch-graphql/api&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> api </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">FinchApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="parameters"></a>Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><p>The <code>options</code> is the only param to the constructor of the FinchApi class.</p><p><code>options.typeDefs</code> is a GraphQL DocumentNode or array of GraphQL DocumentNodes. This defines the schema of the API.</p><p><code>options.resolvers</code> is an object with the resolvers of the API or an array of objects with the resolvers of the API. The shape of this is defined by your GraphQL schema and you can read more about this <a href="https://www.graphql-tools.com/docs/resolvers" target="_blank" rel="noopener noreferrer">here</a>.</p><p><code>options.context</code> is an object with the context of the API. This is the context of the GraphQL query and you can use it to pass data to the resolvers.</p><p><code>options.connection</code> is a instance of a connection class. This can be used to create a way to list for messages. By default this will create a port connection via the <code>FinchPortConnection</code> class. To use traditional message passing you can use the <code>FinchMessageConnection</code> class. To turn off all auto connection mechanisms you can use the <code>FinchNullConnection</code> class.</p><p><code>options.messageKey</code> this is a string that controls the key of the message, this is used to identify the message in the messaging system is coming from the right location.</p><p><code>options.messagePortName</code> this is a string that controls the name of the message port. This is used to identify the message port in the messaging system.</p><p><code>options.disableIntrospection</code> is a boolean that disables the introspection of the API. This is useful if you allow you production application connect to the public devtool.</p><p><code>options.disableDevtools</code> is a boolean that disables the devtools of the API. This does not stop introspection of the API, but stop the ability of the devtools to connect to the API for debugging messages in the API.</p><p><code>options.middleware</code> is an array of functions that will be executed before the GraphQL request is executed. See more about <a href="https://www.graphql-modules.com/docs/advanced/middlewares/" target="_blank" rel="noopener noreferrer">middleware here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchapiquery"></a>FinchApi::query<a class="hash-link" href="#finchapiquery" title="Direct link to heading">#</a></h3><p>This is a method that allows you to execute a GraphQL query in the background of the extension. This is useful so you can expose functionality in the graph to your background script.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resp </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">query </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><p>This can be used to execute queries and mutations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchapionmessage"></a>FinchApi::onMessage<a class="hash-link" href="#finchapionmessage" title="Direct link to heading">#</a></h3><p>This is a method that you can call manually to handle messages from the extension.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Not needed if you have attachMessages set to true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">browser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">runtime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">onMessage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sendResponse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onMessage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchapionexternalmessage"></a>FinchApi::onExternalMessage<a class="hash-link" href="#finchapionexternalmessage" title="Direct link to heading">#</a></h3><p>This is a method that you can call manually to handle messages from the extension.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Not needed if you have attachMessages set to true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">browser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">runtime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">onExternalMessage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sendResponse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onExternalMessage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchportconnection"></a>FinchPortConnection<a class="hash-link" href="#finchportconnection" title="Direct link to heading">#</a></h3><p>Ports connections are automatically created but in case you want to control all the options passed to FinchPortConnection you can use this class and pass it to the connection option of <code>FinchApi</code>.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchPortConnection</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchApi</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@finch-graphql/api&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> api </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  connection</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchPortConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    messagePortName</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ITS_A_SECRET&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    external</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><p>There is only a few options available for the port connection.</p><p><code>options.messagePortName</code> is a string that is the name of the message port. Default is <code>_finchMessagePort</code>.</p><p><code>options.external</code> is a boolean that controls if we should listen to the external message port or not.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchmessageconnection"></a>FinchMessageConnection<a class="hash-link" href="#finchmessageconnection" title="Direct link to heading">#</a></h3><p>FinchMessageConnection is a connection class that is used to create a connection to the extension using async message. This is how 2.x versions of Finch worked. If you do not need any long lasting connections you may want to pass this FinchMessageConnection class to the connection option of <code>FinchApi</code>.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchMessageConnection</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchApi</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@finch-graphql/api&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> api </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  connection</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchMessageConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    messageKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ITS_A_SECRET&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    external</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div><p><code>options.messageKey</code> is a string that is the key of the message. Default is <code>Finch-message</code>.</p><p><code>options.external</code> is a boolean that controls if we should listen to the external message port or not.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_b0Ka" id="finchnullconnection"></a>FinchNullConnection<a class="hash-link" href="#finchnullconnection" title="Direct link to heading">#</a></h3><p>This is a connection class that is used to disable all connection mechanisms. This is useful if you need to handle messages from the extension manually. Auto connection for messages my cause issues in other message listeners.</p><div class="codeBlockContainer_2jEK"><div class="codeBlockContent_115_ typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_1XLE thin-scrollbar"><div class="codeBlockLines_2ir3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchNullConnection</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">FinchApi</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@finch-graphql/api&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> api </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  connection</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">FinchNullConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_3nrq">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/jointoucan/finch-graphql/edit/master/packages/finch-docs/docs/api-ref.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2nOl" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/finch-graphql/docs/website-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Website Setup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/finch-graphql/docs/client-ref"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Client Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2Tf- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#reference" class="table-of-contents__link">Reference</a><ul><li><a href="#finchapi" class="table-of-contents__link">FinchApi</a></li><li><a href="#finchapiquery" class="table-of-contents__link">FinchApi::query</a></li><li><a href="#finchapionmessage" class="table-of-contents__link">FinchApi::onMessage</a></li><li><a href="#finchapionexternalmessage" class="table-of-contents__link">FinchApi::onExternalMessage</a></li><li><a href="#finchportconnection" class="table-of-contents__link">FinchPortConnection</a></li><li><a href="#finchmessageconnection" class="table-of-contents__link">FinchMessageConnection</a></li><li><a href="#finchnullconnection" class="table-of-contents__link">FinchNullConnection</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/finch-graphql/docs/how-it-works">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/finch-graphql/docs/">Setup API</a></li><li class="footer__item"><a class="footer__link-item" href="/finch-graphql/docs/client-setup">Setup client</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Integrations</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/finch-graphql/docs/devtools">Devtools</a></li><li class="footer__item"><a class="footer__link-item" href="/finch-graphql/docs/typescript-codegen">Typescript codegen</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Examples</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/jcblw/finch-bookmarks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Finch Bookmarks</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2022 Toucan, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/finch-graphql/assets/js/styles.e040cb10.js"></script>
<script src="/finch-graphql/assets/js/runtime~main.d65142b1.js"></script>
<script src="/finch-graphql/assets/js/main.f5fda60b.js"></script>
<script src="/finch-graphql/assets/js/1.268af412.js"></script>
<script src="/finch-graphql/assets/js/2.bf5d90e8.js"></script>
<script src="/finch-graphql/assets/js/21.39f7d7c1.js"></script>
<script src="/finch-graphql/assets/js/22.d9f4cc58.js"></script>
<script src="/finch-graphql/assets/js/935f2afb.28ea68c6.js"></script>
<script src="/finch-graphql/assets/js/17896441.aff49cc6.js"></script>
<script src="/finch-graphql/assets/js/5b14a709.940616a9.js"></script>
</body>
</html>